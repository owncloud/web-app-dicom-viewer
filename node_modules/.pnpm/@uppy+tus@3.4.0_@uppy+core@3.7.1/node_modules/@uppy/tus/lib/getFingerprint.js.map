{"version":3,"names":["tus","isCordova","window","PhoneGap","Cordova","cordova","isReactNative","navigator","product","toLowerCase","getFingerprint","uppyFileObj","file","options","defaultOptions","fingerprint","uppyFingerprint","id","endpoint","join","Promise","resolve"],"sources":["getFingerprint.js"],"sourcesContent":["import * as tus from 'tus-js-client'\n\nfunction isCordova () {\n  return typeof window !== 'undefined' && (\n    typeof window.PhoneGap !== 'undefined'\n    || typeof window.Cordova !== 'undefined'\n    || typeof window.cordova !== 'undefined'\n  )\n}\n\nfunction isReactNative () {\n  return typeof navigator !== 'undefined'\n    && typeof navigator.product === 'string'\n    && navigator.product.toLowerCase() === 'reactnative'\n}\n\n// We override tus fingerprint to uppy’s `file.id`, since the `file.id`\n// now also includes `relativePath` for files added from folders.\n// This means you can add 2 identical files, if one is in folder a,\n// the other in folder b — `a/file.jpg` and `b/file.jpg`, when added\n// together with a folder, will be treated as 2 separate files.\n//\n// For React Native and Cordova, we let tus-js-client’s default\n// fingerprint handling take charge.\nexport default function getFingerprint (uppyFileObj) {\n  return (file, options) => {\n    if (isCordova() || isReactNative()) {\n      return tus.defaultOptions.fingerprint(file, options)\n    }\n\n    const uppyFingerprint = [\n      'tus',\n      uppyFileObj.id,\n      options.endpoint,\n    ].join('-')\n\n    return Promise.resolve(uppyFingerprint)\n  }\n}\n"],"mappings":"AAAA,OAAO,KAAKA,GAAG,MAAM,eAAe;AAEpC,SAASC,SAASA,CAAA,EAAI;EACpB,OAAO,OAAOC,MAAM,KAAK,WAAW,KAClC,OAAOA,MAAM,CAACC,QAAQ,KAAK,WAAW,IACnC,OAAOD,MAAM,CAACE,OAAO,KAAK,WAAW,IACrC,OAAOF,MAAM,CAACG,OAAO,KAAK,WAAW,CACzC;AACH;AAEA,SAASC,aAAaA,CAAA,EAAI;EACxB,OAAO,OAAOC,SAAS,KAAK,WAAW,IAClC,OAAOA,SAAS,CAACC,OAAO,KAAK,QAAQ,IACrCD,SAAS,CAACC,OAAO,CAACC,WAAW,CAAC,CAAC,KAAK,aAAa;AACxD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,cAAcA,CAAEC,WAAW,EAAE;EACnD,OAAO,CAACC,IAAI,EAAEC,OAAO,KAAK;IACxB,IAAIZ,SAAS,CAAC,CAAC,IAAIK,aAAa,CAAC,CAAC,EAAE;MAClC,OAAON,GAAG,CAACc,cAAc,CAACC,WAAW,CAACH,IAAI,EAAEC,OAAO,CAAC;IACtD;IAEA,MAAMG,eAAe,GAAG,CACtB,KAAK,EACLL,WAAW,CAACM,EAAE,EACdJ,OAAO,CAACK,QAAQ,CACjB,CAACC,IAAI,CAAC,GAAG,CAAC;IAEX,OAAOC,OAAO,CAACC,OAAO,CAACL,eAAe,CAAC;EACzC,CAAC;AACH"}