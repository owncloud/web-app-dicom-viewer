{"version":3,"names":["throttle","emitSocketProgress","uploader","progressData","file","progress","bytesUploaded","bytesTotal","uppy","log","emit","leading","trailing"],"sources":["emitSocketProgress.ts"],"sourcesContent":["import throttle from 'lodash/throttle.js'\nimport type { UppyFile } from './UppyFile'\nimport type { FileProgress } from './FileProgress'\n\nfunction emitSocketProgress(\n  uploader: any,\n  progressData: FileProgress,\n  file: UppyFile,\n): void {\n  const { progress, bytesUploaded, bytesTotal } = progressData\n  if (progress) {\n    uploader.uppy.log(`Upload progress: ${progress}`)\n    uploader.uppy.emit('upload-progress', file, {\n      uploader,\n      bytesUploaded,\n      bytesTotal,\n    })\n  }\n}\n\nexport default throttle(emitSocketProgress, 300, {\n  leading: true,\n  trailing: true,\n})\n"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,oBAAoB;AAIzC,SAASC,kBAAkBA,CACzBC,QAAa,EACbC,YAA0B,EAC1BC,IAAc,EACR;EACN,MAAM;IAAEC,QAAQ;IAAEC,aAAa;IAAEC;EAAW,CAAC,GAAGJ,YAAY;EAC5D,IAAIE,QAAQ,EAAE;IACZH,QAAQ,CAACM,IAAI,CAACC,GAAG,CAAE,oBAAmBJ,QAAS,EAAC,CAAC;IACjDH,QAAQ,CAACM,IAAI,CAACE,IAAI,CAAC,iBAAiB,EAAEN,IAAI,EAAE;MAC1CF,QAAQ;MACRI,aAAa;MACbC;IACF,CAAC,CAAC;EACJ;AACF;AAEA,eAAeP,QAAQ,CAACC,kBAAkB,EAAE,GAAG,EAAE;EAC/CU,OAAO,EAAE,IAAI;EACbC,QAAQ,EAAE;AACZ,CAAC,CAAC"}